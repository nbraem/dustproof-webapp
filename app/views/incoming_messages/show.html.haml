- model_class = IncomingMessage

.page-header
  %h1
    = @incoming_message.id
    %small= t '.title', default: model_class.model_name.human.titleize

.row
  .col-lg-3
    .row
      .col-sm-4.col-lg-12
        .well
          = link_to icon_text("trash-o", t('.destroy', default: t("helpers.links.destroy"))), incoming_message_path(@incoming_message), method: "delete", data: { confirm: t('.confirm', default: t("helpers.links.confirm", default: 'Are you sure?')) }, class: 'btn btn-danger btn-block'

  .col-lg-9
    .row
      .col-md-6
        %p
          %strong= model_class.human_attribute_name(:timestamp)
          %br
          = @incoming_message.timestamp

        %p
          %strong= model_class.human_attribute_name(:gateway_eui)
          %br
          - if @incoming_message.transport == "lora"
            = @incoming_message.gateway_eui
          - else
            WiFi

        - %w(device_eui packet_time tmst).each do |attr|
          %p
            %strong= model_class.human_attribute_name(attr)
            %br
            = @incoming_message.send(attr)

      .col-md-6
        %p
          %strong= model_class.human_attribute_name(:frequency)
          %br
          - if @incoming_message.transport == "lora"
            = @incoming_message.frequency
            MHz

        - %w(data_rate rssi snr data).each do |attr|
          %p
            %strong= model_class.human_attribute_name(attr)
            %br
            = @incoming_message.send(attr)

    %p
      %strong= model_class.human_attribute_name(:body)
      %br
      = @incoming_message.body

    - if @incoming_message.comments
      %p
        %strong= model_class.human_attribute_name(:comments)
        %br
        %pre= @incoming_message.comments
